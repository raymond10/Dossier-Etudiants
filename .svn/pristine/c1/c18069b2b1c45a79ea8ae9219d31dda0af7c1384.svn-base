// Generated by the WOLips Templateengine Plug-in at 23 mars 2011 09:02:59
package etudiants.utt.fr.components;
import com.webobjects.appserver.WOComponent;
import com.webobjects.appserver.WOContext;
import com.webobjects.appserver.WOResponse;
import er.ajax.UttAjaxUtils;
/**
 * @author Raymond NANEON <raymond.naneon at utt.fr>
 * 
 */

public class Main extends WOComponent {
	private static final long serialVersionUID = 1L;

	public String onload = null;

	public Main(WOContext context) {
		super(context);
	}	
	
	@Override
	public void appendToResponse(WOResponse response, WOContext context) {
		super.appendToResponse(response, context);
		UttAjaxUtils.addScriptResourceInHead(context, response, "prototype.js");
	}
	
	public String getOnload() {
		if (onload == null) {
			onload = "if(navigator.appName != 'Microsoft Internet Explorer') {window.location='";
			onload += context().directActionURLForActionNamed("myDefault", null);
			onload += "';} else {Element.show('Avertissement');}";
		}
		return onload;
	}

	public void setOnload(String onload) {
		this.onload = onload;
	}
}
